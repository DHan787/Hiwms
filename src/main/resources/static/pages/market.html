<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="../assets/css/admin.css">
		<link rel="stylesheet" href="../assets/css/element-ui/index.css">
		<title>超市货物员</title>
	</head>
	<body>
		<div id="app">
			<el-container>
				<el-header>
					<div class="logo">汇安智能仓储平台</div>

				</el-header>

				<el-container>
					<!--侧边栏-->
					<el-aside width="200px">
						<el-menu class="el-menu-vertical-demo" default-active="1" style="height: 110vh;"
							background-color="#545c64" text-color="#fff" active-text-color="#1d953f">
							<el-menu-item index="1">
								<i class="el-icon-menu"></i>
								<span slot="title">常用</span>
							</el-menu-item>

							<el-menu-item index="2">
								<i class="el-icon-s-help"></i>
								<span slot="title">控制台</span>
							</el-menu-item>
							<el-submenu index="3">
								<el-menu-item-group>
									<el-menu-item index="3-5">
										<i class="el-icon-mouse"></i>
										<span slot="title" @click="goOrders()">订单管理</span>
									</el-menu-item>
								</el-menu-item-group>
							</el-submenu>

							<el-menu-item index="5">
								<i class="el-icon-setting"></i>
								<span slot="title">系统设置</span>
							</el-menu-item>
						</el-menu>
					</el-aside>
					<!-- 主体 -->
					<el-main>
						<el-breadcrumb style="margin-bottom: 12px;">
							<el-breadcrumb-item>首页</el-breadcrumb-item>
						</el-breadcrumb>
						<el-card class="box-card" style="margin-bottom: 12px;">
							<div class="card-container">
								<el-image :src="src" class="ava">
									<div slot="placeholder" class="image-slot">
										加载中<span class="dot">...</span>
									</div>
								</el-image>
								<div class="admin-info">
									<h3>早安，超市货物员，开始您一天的工作吧！</h3>
									<div class="weather">
										<i class="el-icon-heavy-rain"></i>
										<span>今日阴转小雨，22℃ - 32℃，出门记得带伞哦。</span>
									</div>
								</div>
							</div>
						</el-card>
					</el-main>
				</el-container>
			</el-container>
		</div>
	</body>
	<script src="../assets/js/vue.js"></script>
	<script src="../assets/css/element-ui/index.js"></script>
	<script src="../assets/js/axios.min.js"></script>
	<script>
		new Vue({
			el: '#app',
			data: function() {
				return {
					src: 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg',
					UserEditVisible: false,
					editForm: [],
					datalist: [],
					FormData: {},
						}
					},
					created() {
						this.getAll()
					},
					methods: {
						goOrders(){
							window.location.href=("orders.html");
						},
						goGoods(){
							window.location.href=("goods.html");
						},
                        goUsers(){
                            window.location.href=("users.html");
                        },
						getAll() {
							axios.get("http://localhost:8080/users").then(res => {
								this.datalist = res.data;
							});
						},
						userDelete(userId) {
							        this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {
							          confirmButtonText: '确定',
							          cancelButtonText: '取消',
							          type: 'warning'
							        }).then(() => {
										axios.delete("http://localhost:8080/users/"+userId).then(res => {
											this.getAll();
										});
							          this.$message({
							            type: 'success',
							            message: '删除成功!'
							          });
							        }).catch(() => {
							          this.$message({
							            type: 'info',
							            message: '已取消删除'
							          });          
							        });
									},

								userEdit() {
									this.UserEditVisible = true;

								},
                        closeDialog() {
                            this.centerDialogVisible = false
                            this.isAddMembers = false
                            console.log("editfrom", this.editForm)
                            console.log("addfrom", this.addForm)
                        },

							}
						})
	</script>
</html>
