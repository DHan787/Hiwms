<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../../assets/js/echarts.js"></script>
    <title></title>
</head>
<body>
<div id='app'>
    <!-- 为 ECharts 准备一个定义了宽高的 DOM -->
    <div id="charts" style="width: 600px;height:400px;"></div>
</div>
</body>


<script src="../../assets/js/vue.js"></script>
<script src="../../assets/css/element-ui/index.js"></script>
<script src="../../assets/js/axios.min.js"></script>
<script>
    /*new Vue({
        el: '#app',
        data: function () {
            return {
                charData: [],
                nameArr: [],
                valueArr: []
            }
        },
        created() {
            this.initChart();
        },
        methods: {
            initChart(){*/
    let nameArr = [];
    let valueArr = [];
    const char = echarts.init(document.getElementById('charts'));
    axios.get("http://localhost:8080/inventory/getBarList").then(res => {
        this.charData = res.data;
        for (let i = 0; i < this.charData.name.length; i++) {
            nameArr[i] = this.charData.name[i];
            valueArr[i] = this.charData.value[i];
        }
        /*nameArr = this.nameArr;
        valueArr = this.valueArr;*/
        console.log("nameArr:", nameArr);
        console.log("valueArr", valueArr);
        char.setOption({
            title: {
                text: '库存商品表'
            },
            tooltip: {},
            legend: {
                data: ['货物库存数量']
            },
            xAxis: {
                name: '货物名',
                data: nameArr
            },
            yAxis: {
                name: '货物库存数量',
            },
            series: [
                {
                    name: '货物库存数量',
                    type: 'bar',
                    data: valueArr,
                    barWidth: '20%'//柱条占总类目的宽度
                    /* itemStyle: {
                        color: ''
                    } */
                }
            ]
        })
    })
    /*				})
                }

            }
        })*/
</script>
</html>
