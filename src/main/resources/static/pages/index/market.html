<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="../../assets/css/admin.css">
		<link rel="stylesheet" href="../../assets/css/element-ui/index.css">
		<title>超市货物员</title>
	</head>
	<body>
		<div id="app">
			<el-container>
				<el-header>
					<div class="logo">汇安智能仓储平台</div>

				</el-header>

				<el-container>
					<!--侧边栏-->
					<el-aside width="200px">
						<el-menu class="el-menu-vertical-demo" default-active="1" style="height: 110vh;"
							background-color="#545c64" text-color="#fff" active-text-color="#1d953f">
							<el-menu-item index="1">
								<i class="el-icon-menu"></i>
								<span slot="title">常用</span>
							</el-menu-item>

							<el-menu-item index="2">
								<i class="el-icon-s-help"></i>
								<span slot="title">控制台</span>
							</el-menu-item>
							<el-submenu index="3">
								<template slot="title">
									<i class="el-icon-view"></i>
									<span>业务流</span>
								</template>
								<el-menu-item-group>
									<el-menu-item index="3">
										<i class="el-icon-mouse"></i>
										<span slot="title" @click="openUrl('../admin/orders.html')">订单管理</span>
									</el-menu-item>
									<el-menu-item index="3">
										<i class="el-icon-upload"></i>
										<span slot="title" @click="openUrl('./stock-apply.html')">出入库申请</span>
									</el-menu-item>
								</el-menu-item-group>
							</el-submenu>

							<el-menu-item index="4">
								<i class="el-icon-setting"></i>
								<span slot="title">系统设置</span>
							</el-menu-item>
						</el-menu>
					</el-aside>
					<!-- 主体 -->
					<el-main>
						<iframe id="mainIframe" class="mainFrame" :src="iframeUrl" width="100%" height="100%"
							frameborder="0" scrolling="no"></iframe>
					</el-main>
				</el-container>
			</el-container>
		</div>
	</body>
	<script src="../../assets/js/vue.js"></script>
	<script src="../../assets/css/element-ui/index.js"></script>
	<script src="../../assets/js/axios.min.js"></script>
	<script>
		new Vue({
			el: '#app',
			data: function() {
				return {
					src: '../pics/head.jpg',
					UserEditVisible: false,
					editForm: [],
					datalist: [],
					FormData: {},
					iframeUrl: './index.html'
				}
			},
			created() {
				this.getAll()
			},
			methods: {
				adjustIframe() {
					var ifm = document.getElementById("bi_iframe");
					ifm.height = document.documentElement.clientHeight;
					ifm.width = document.documentElement.clientWidth;
				},

				openUrl(url) {

					this.iframeUrl = url;
				},
				getAll() {
					axios.get("http://localhost:8080/users").then(res => {
						this.datalist = res.data;
					});
				},
				userDelete(userId) {
					this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {
						confirmButtonText: '确定',
						cancelButtonText: '取消',
						type: 'warning'
					}).then(() => {
						axios.delete("http://localhost:8080/users/" + userId).then(res => {
							this.getAll();
						});
						this.$message({
							type: 'success',
							message: '删除成功!'
						});
					}).catch(() => {
						this.$message({
							type: 'info',
							message: '已取消删除'
						});
					});
				},

				userEdit() {
					this.UserEditVisible = true;

				},
				closeDialog() {
					this.centerDialogVisible = false
					this.isAddMembers = false
					console.log("editfrom", this.editForm)
					console.log("addfrom", this.addForm)
				},

			}
		})
	</script>
</html>
